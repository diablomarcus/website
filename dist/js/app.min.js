!function(){"use strict";var e=angular.module("katerbergApp",["ngRoute","ui.bootstrap"]);e.config(["$routeProvider","$httpProvider",function(e,r){r.defaults.cache=!0,e.when("/",{templateUrl:"partials/home.html"}).when("/about-me",{templateUrl:"partials/about-me.html"}).when("/minesweeper",{templateUrl:"partials/minesweeper.html",controller:"MinesweeperCtrl"}).when("/pathfinder-spellbook",{templateUrl:"partials/pathfinder-spellbook.html",controller:"PathfinderSpellbookCtrl"}).when("/web-dev",{templateUrl:"partials/web-dev.html",controller:"WebDevCtrl"}).when("/mtg",{templateUrl:"partials/mtg.html"}).when("/board-games",{templateUrl:"partials/board-games.html"}).when("/linux",{templateUrl:"partials/linux.html"}).otherwise({redirectTo:"/"})}])}(),function(){angular.module("katerbergApp").factory("modalService",["$modal",function(e){return{open:e.open,spell:{url:"partials/modals/spellbook-detail.html",controller:"SpellModalCtrl"}}}])}(),function(){"use strict";angular.module("katerbergApp").controller("SidebarCtrl",["$scope","$location",function(e,r){function l(e){r.path(e)}e.go=l}])}(),function(){"use strict";angular.module("katerbergApp").controller("WebDevCtrl",["$scope","$location",function(e,r){function l(){r.path("minesweeper")}function o(){r.path("pathfinder-spellbook")}e.goMinesweeper=l,e.goSpellbook=o}])}(),function(){"use strict";angular.module("katerbergApp").controller("MinesweeperCtrl",["$scope","minesweeperService",function(e,r){function l(l){e.rows=[],e.numberOfFlags=0;for(var o=0;l>o;o++){e.rows.add({cells:[]});for(var t=0;l>t;t++){var n=r.createNewCell();n.rowNumber=o,n.columnNumber=t,n.bomb&&e.numberOfFlags++,e.rows[o].cells.add(n)}}}function o(){var r=0;return e.rows.forEach(function(e){e.cells.forEach(function(e){e.selected||r++})}),r}function t(r){var l=0,o=0===r.columnNumber,t=r.columnNumber===e.rows[0].cells.length-1,n=r.rowNumber===e.rows.length-1,a=0===r.rowNumber;return a||(e.rows[r.rowNumber-1].cells[r.columnNumber].bomb&&l++,o||e.rows[r.rowNumber-1].cells[r.columnNumber-1].bomb&&l++,t||e.rows[r.rowNumber-1].cells[r.columnNumber+1].bomb&&l++),n||(e.rows[r.rowNumber+1].cells[r.columnNumber].bomb&&l++,o||e.rows[r.rowNumber+1].cells[r.columnNumber-1].bomb&&l++,t||e.rows[r.rowNumber+1].cells[r.columnNumber+1].bomb&&l++),o||e.rows[r.rowNumber].cells[r.columnNumber-1].bomb&&l++,t||e.rows[r.rowNumber].cells[r.columnNumber+1].bomb&&l++,l}function n(){e.hasWon=!1,e.hasLost=!1,e.resetBoard(15)}function a(l){e.hasWon||e.hasLost||(l.selected=!0,l.bombsNearby=t(l),e.hasLost=r.checkForLoss(l),e.hasWon=r.checkForWin(e.rows),e.hasWon&&alert("You win!"))}e.selectCell=a,e.resetGame=n,e.getNumberOfUnclearedCells=o,e.resetBoard=l,n()}])}(),function(){angular.module("katerbergApp").factory("minesweeperService",function(){function e(){var e={selected:!1};return Math.random()<.2&&(e.bomb=!0),e}function r(e){return e.bomb}function l(e){return e.every(function(e){return e.cells.every(function(e){return e.selected||e.bomb?!0:!1})})}return{createNewCell:e,checkForLoss:r,checkForWin:l}})}(),function(){angular.module("katerbergApp").factory("pathfinderService",["$http","$q",function(e){function r(){return e.get("static/spells.json").then(function(e){return e.data.map(function(e){return Object.keys(e.fields,function(r,l){e.fields[r]=l.replace(/<[^>]*>/gm,"")}),e.fields})})}var l=["Bard","Cleric","Druid","Paladin","Ranger","Sorcerer/Wizard"];return{getSpellbook:r,casterTypes:l}}])}(),function(){"use strict";angular.module("katerbergApp").controller("PathfinderSpellbookCtrl",["$scope","pathfinderService","modalService",function(e,r,l){function o(e){l.open({templateUrl:l.spell.url,controller:l.spell.controller,resolve:{spell:function(){return e}}})}r.getSpellbook().then(function(r){e.spellbook=r}),e.casterTypes=r.casterTypes,e.$watch("search.level",function(r){null===r&&(e.search.level=void 0)}),e.drillIntoSpell=o}])}(),function(){"use strict";angular.module("katerbergApp").controller("SpellModalCtrl",["$scope","$modalInstance","spell",function(e,r,l){function o(){r.close()}e.close=o,e.spell=l}])}();