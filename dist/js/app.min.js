!function(){"use strict";var e=angular.module("katerbergApp",["ngRoute"]);e.config(["$routeProvider","$httpProvider",function(e,r){r.defaults.cache=!0,e.when("/",{templateUrl:"partials/home.html"}).when("/about-me",{templateUrl:"partials/about-me.html"}).when("/minesweeper",{templateUrl:"partials/minesweeper.html",controller:"MinesweeperCtrl"}).when("/pathfinder-spellbook",{templateUrl:"partials/pathfinder-spellbook.html",controller:"PathfinderSpellbookCtrl"}).when("/web-dev",{templateUrl:"partials/web-dev.html",controller:"WebDevCtrl"}).when("/mtg",{templateUrl:"partials/mtg.html"}).when("/board-games",{templateUrl:"partials/board-games.html"}).when("/linux",{templateUrl:"partials/linux.html"}).otherwise({redirectTo:"/"})}])}(),function(){"use strict";angular.module("katerbergApp").controller("SidebarCtrl",["$scope","$location",function(e,r){function o(e){r.path(e)}e.go=o}])}(),function(){"use strict";angular.module("katerbergApp").controller("WebDevCtrl",["$scope","$location",function(e,r){function o(){r.path("minesweeper")}function t(){r.path("pathfinder-spellbook")}e.goMinesweeper=o,e.goSpellbook=t}])}(),function(){"use strict";angular.module("katerbergApp").controller("MinesweeperCtrl",["$scope","minesweeperService",function(e,r){function o(o){e.rows=[],e.numberOfFlags=0;for(var t=0;o>t;t++){e.rows.add({cells:[]});for(var l=0;o>l;l++){var n=r.createNewCell();n.rowNumber=t,n.columnNumber=l,n.bomb&&e.numberOfFlags++,e.rows[t].cells.add(n)}}}function t(){var r=0;return e.rows.forEach(function(e){e.cells.forEach(function(e){e.selected||r++})}),r}function l(r){var o=0,t=0===r.columnNumber,l=r.columnNumber===e.rows[0].cells.length-1,n=r.rowNumber===e.rows.length-1,c=0===r.rowNumber;return c||(e.rows[r.rowNumber-1].cells[r.columnNumber].bomb&&o++,t||e.rows[r.rowNumber-1].cells[r.columnNumber-1].bomb&&o++,l||e.rows[r.rowNumber-1].cells[r.columnNumber+1].bomb&&o++),n||(e.rows[r.rowNumber+1].cells[r.columnNumber].bomb&&o++,t||e.rows[r.rowNumber+1].cells[r.columnNumber-1].bomb&&o++,l||e.rows[r.rowNumber+1].cells[r.columnNumber+1].bomb&&o++),t||e.rows[r.rowNumber].cells[r.columnNumber-1].bomb&&o++,l||e.rows[r.rowNumber].cells[r.columnNumber+1].bomb&&o++,o}function n(){e.hasWon=!1,e.hasLost=!1,e.resetBoard(15)}function c(o){e.hasWon||e.hasLost||(o.selected=!0,o.bombsNearby=l(o),e.hasLost=r.checkForLoss(o),e.hasWon=r.checkForWin(e.rows),e.hasWon&&alert("You win!"))}e.selectCell=c,e.resetGame=n,e.getNumberOfUnclearedCells=t,e.resetBoard=o,n()}])}(),function(){angular.module("katerbergApp").factory("minesweeperService",function(){function e(){var e={selected:!1};return Math.random()<.2&&(e.bomb=!0),e}function r(e){return e.bomb}function o(e){return e.every(function(e){return e.cells.every(function(e){return e.selected||e.bomb?!0:!1})})}return{createNewCell:e,checkForLoss:r,checkForWin:o}})}(),function(){angular.module("katerbergApp").factory("pathfinderService",["$http","$q",function(e,r){function o(){var o=r.defer();return e.get("static/spells.json").success(function(e){var r=[];e.forEach(function(e){Object.keys(e.fields,function(r,o){e.fields[r]=o.replace(/<[^>]*>/gm,"")}),r.push(e.fields)}),o.resolve(r)}),o.promise}return{getSpellbook:o}}])}(),function(){"use strict";angular.module("katerbergApp").controller("PathfinderSpellbookCtrl",["$scope","pathfinderService",function(e,r){r.getSpellbook().then(function(r){e.spellbook=r})}])}();