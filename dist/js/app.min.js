!function(){"use strict";var e=angular.module("katerbergApp",["ngRoute","ui.bootstrap","angular-capitalize-filter"]);e.config(["$routeProvider","$httpProvider",function(e,r){r.defaults.cache=!0,e.when("/",{templateUrl:"partials/about-me.html"}).when("/about-me",{templateUrl:"partials/about-me.html"}).when("/minesweeper",{templateUrl:"partials/minesweeper.html",controller:"MinesweeperCtrl"}).when("/pathfinder-spellbook",{templateUrl:"partials/pathfinder-spellbook.html",controller:"PathfinderSpellbookCtrl"}).when("/web-dev",{templateUrl:"partials/web-dev.html",controller:"WebDevCtrl"}).when("/mtg",{templateUrl:"partials/mtg.html"}).when("/board-games",{templateUrl:"partials/board-games.html"}).when("/linux",{templateUrl:"partials/linux.html"}).otherwise({redirectTo:"/"})}])}(),function(){angular.module("katerbergApp").factory("modalService",["$modal",function(e){return{open:e.open,spell:{url:"partials/modals/spellbook-detail.html",controller:"SpellModalCtrl"}}}])}(),function(){"use strict";angular.module("katerbergApp").controller("SidebarCtrl",["$scope","$location",function(e,r){function t(e){r.path(e)}e.go=t}])}(),function(){"use strict";angular.module("katerbergApp").controller("WebDevCtrl",["$scope","$location",function(e,r){function t(){r.path("pathfinder-spellbook")}e.goSpellbook=t}])}(),function(){"use strict";angular.module("katerbergApp").controller("MinesweeperCtrl",["$scope","minesweeperService",function(e,r){function t(t){e.rows=[],e.numberOfFlags=0;for(var o=0;o<t;o++){e.rows.add({cells:[]});for(var l=0;l<t;l++){var n=r.createNewCell();n.rowNumber=o,n.columnNumber=l,n.bomb&&e.numberOfFlags++,e.rows[o].cells.add(n)}}}function o(){var r=0;return e.rows.forEach(function(e){e.cells.forEach(function(e){e.selected||r++})}),r}function l(r){var t=0,o=0===r.columnNumber,l=r.columnNumber===e.rows[0].cells.length-1,n=r.rowNumber===e.rows.length-1,s=0===r.rowNumber;return s||(e.rows[r.rowNumber-1].cells[r.columnNumber].bomb&&t++,o||e.rows[r.rowNumber-1].cells[r.columnNumber-1].bomb&&t++,l||e.rows[r.rowNumber-1].cells[r.columnNumber+1].bomb&&t++),n||(e.rows[r.rowNumber+1].cells[r.columnNumber].bomb&&t++,o||e.rows[r.rowNumber+1].cells[r.columnNumber-1].bomb&&t++,l||e.rows[r.rowNumber+1].cells[r.columnNumber+1].bomb&&t++),o||e.rows[r.rowNumber].cells[r.columnNumber-1].bomb&&t++,l||e.rows[r.rowNumber].cells[r.columnNumber+1].bomb&&t++,t}function n(){e.hasWon=!1,e.hasLost=!1,e.resetBoard(15)}function s(t){e.hasWon||e.hasLost||(t.selected=!0,t.bombsNearby=l(t),e.hasLost=r.checkForLoss(t),e.hasWon=r.checkForWin(e.rows),e.hasWon&&alert("You win!"))}e.selectCell=s,e.resetGame=n,e.getNumberOfUnclearedCells=o,e.resetBoard=t,n()}])}(),function(){angular.module("katerbergApp").factory("minesweeperService",function(){function e(){var e={selected:!1};return Math.random()<.2&&(e.bomb=!0),e}function r(e){return e.bomb}function t(e){return e.every(function(e){return e.cells.every(function(e){return!(!e.selected&&!e.bomb)})})}return{createNewCell:e,checkForLoss:r,checkForWin:t}})}(),function(){angular.module("katerbergApp").factory("pathfinderService",["$http","$q","spellService",function(e,r,t){function o(){return e.get("static/spells.json").then(function(e){return e.data.map(function(e){return t.spellify(e)})})}var l=["Bard","Cleric","Druid","Paladin","Ranger","Sorcerer/Wizard"];return{getSpellbook:o,casterTypes:l}}])}(),function(){"use strict";angular.module("katerbergApp").controller("PathfinderSpellbookCtrl",["$scope","pathfinderService","modalService",function(e,r,t){function o(e){t.open({templateUrl:t.spell.url,controller:t.spell.controller,resolve:{spell:function(){return e}}})}r.getSpellbook().then(function(r){e.spellbook=r}),e.casterTypes=r.casterTypes,e.$watch("search.level",function(r){null===r&&(e.search.level=void 0)}),e.drillIntoSpell=o}])}(),function(){angular.module("katerbergApp").factory("Spell",function(){var e;return e=function(){function e(e){return e?e.split(", ").map(function(e){var r=e.split(" ");return r[0]=r[0].charAt(0).toUpperCase()+r[0].substr(1),r[0]=r[0].replace(/\/(.)/,function(e){return e.toUpperCase()}),{name:r[0],level:parseInt(r[1])}}):e}function r(r){r&&(this.description=r.description,this.school=r.school,this.name=r.name,this.classes=e(r.level),this.area=r.area,this.effect=r.effect,this.descriptor=r.descriptor,this.range=r.range,this.components=r.components,this.duration=r.duration,this.subSchool=r.subschool,this.target=r.target,this.savingThrow=r.saving_throw,this.spellResistance=r.spell_resistance,this.shortDescription=r.short_description,this.castingTime=r.casting_time)}return r}()})}(),function(){"use strict";angular.module("katerbergApp").controller("SpellModalCtrl",["$scope","$modalInstance","spell",function(e,r,t){function o(){r.close()}function l(e){e.showDetails=!0}e.close=o,e.spell=t,e.showDetails=l}])}(),function(){angular.module("katerbergApp").factory("spellService",["Spell",function(e){function r(r){return Object.keys(r.fields,function(e,t){r.fields[e]=t.replace(/<[^>]*>/gm,"")}),new e(r.fields)}return{spellify:r}}])}();